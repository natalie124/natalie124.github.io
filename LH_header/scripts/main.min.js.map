{"version":3,"sources":["main.js"],"names":["$","document","ready","on","this","toggleClass","header","scrollbarWidth","block","css","height","width","indicator","append","w1","innerWidth","w2","remove","modalClose","modal","fadeOut","setTimeout","removeClass","removeAttr","window","scroll","scrollTop","innerHeight","addClass","each","Swiper","find","slidesPerView","loop","loopedSlides","spaceBetween","centeredSlides","observer","observeParents","watchOverflow","navigation","nextEl","prevEl","breakpoints","swiperThumbs","slidesPerGroup","effect","pagination","el","type","thumbs","swiper","direction","autoHeight","allowTouchMove","fancybox","defaults","backFocus","e","preventDefault","attr","length","fadeIn","closest","is","target","has","keyCode","select","btn","list","slideToggle","value","siblings","text","slideUp","showText","querySelectorAll","forEach","it","rows","parseInt","getAttribute","$clamp","clamp","initialText","parent","hasClass","IMask","mask","lazy","blur","parents","not","next","link","submenu","toggler","before","contW","tableW","resize","addEventListener","Cocoen","create","querySelector","parse","body","spinner","children","check_if_load","init","myMapTemp","ymaps","Map","center","zoom","controls","myMapTemp2","myMapTemp3","myPlacemarkTemp","Placemark","myPlacemarkTemp2","myPlacemarkTemp3","geoObjects","add","behaviors","disable","screen","layer","layers","get","layer2","layer3","waitForTilesLoad","then","vow","Promise","resolve","reject","tc","k","hasOwnProperty","tileContainer","CanvasContainer","DomContainer","getTileContainer","readyAll","tiles","tile","number","isReady","events","once","offset","top","flagMapApi","url","callback","load","script","createElement","readyState","onreadystatechange","onload","src","getElementsByTagName","appendChild"],"mappings":"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","file":"main.min.js","sourcesContent":["$(document).ready(function() {\r\n\r\n    $('.js-mobile-menu').on('click', function() {\r\n        $(this).toggleClass('active');\r\n    });\r\n\r\n    // header fixed\r\n\r\n    let header = $('header.header');\r\n\r\n    $(window).scroll(function() {\r\n        if ($(window).scrollTop() > header.innerHeight()) {\r\n            header.addClass('fixed');\r\n        } else {\r\n            header.removeClass('fixed');\r\n        }\r\n    });\r\n\r\n    // слайдеры\r\n\r\n    $('.js-catalog-slider').each(function() {\r\n        var swiper = new Swiper($(this).find('.js-slider-container')[0], {\r\n            slidesPerView: 'auto',\r\n            loop: true,\r\n            loopedSlides: 3,\r\n            spaceBetween: 20,\r\n            centeredSlides: true,\r\n            observer: true,\r\n            observeParents: true,\r\n            watchOverflow: false,\r\n            navigation: {\r\n                nextEl: $(this).find('.js-slide-next')[0],\r\n                prevEl: $(this).find('.js-slide-prev')[0],\r\n            },\r\n            breakpoints: {\r\n                768: {\r\n                    slidesPerView: 3,\r\n                    spaceBetween: 20,\r\n                    loop: false,\r\n                    centeredSlides: false,\r\n                },\r\n                992: {\r\n                    spaceBetween: 40,\r\n                    loop: false,\r\n                    centeredSlides: false,\r\n                },\r\n            },\r\n        });\r\n    });\r\n\r\n    $('.js-goods-slider').each(function() {\r\n        var swiper = new Swiper($(this).find('.js-slider-container')[0], {\r\n            slidesPerView: 'auto',\r\n            // loop: true,\r\n            spaceBetween: 20,\r\n            watchOverflow: false,\r\n            observer: true,\r\n            observeParents: true,\r\n            // lazy: true,\r\n            navigation: {\r\n                nextEl: $(this).find('.js-slide-next')[0],\r\n                prevEl: $(this).find('.js-slide-prev')[0],\r\n            },\r\n            breakpoints: {\r\n                992: {\r\n                    slidesPerView: 4,\r\n                },\r\n                1200: {\r\n                    spaceBetween: 24,\r\n                    slidesPerView: 5,\r\n                },\r\n            },\r\n        });\r\n    });\r\n\r\n    $('.js-catalog-slider').each(function() {\r\n        var swiper = new Swiper($(this).find('.js-slider-container')[0], {\r\n            slidesPerView: 'auto',\r\n            loop: true,\r\n            loopedSlides: 3,\r\n            spaceBetween: 20,\r\n            centeredSlides: true,\r\n            watchOverflow: false,\r\n            observer: true,\r\n            observeParents: true,\r\n            navigation: {\r\n                nextEl: $(this).find('.js-slide-next')[0],\r\n                prevEl: $(this).find('.js-slide-prev')[0],\r\n            },\r\n            breakpoints: {\r\n                768: {\r\n                    spaceBetween: 40,\r\n                    loop: true,\r\n                    loopedSlides: 3,\r\n                    centeredSlides: true,\r\n                },\r\n                992: {\r\n                    spaceBetween: 40,\r\n                    slidesPerView: 3,\r\n                    loop: false,\r\n                    loopedSlides: 0,\r\n                    centeredSlides: false,\r\n                },\r\n            },\r\n        });\r\n    });\r\n\r\n    $('.js-commodities-slider').each(function() {\r\n        var swiper = new Swiper($(this).find('.js-slider-container')[0], {\r\n            slidesPerView: 'auto',\r\n            loop: true,\r\n            loopedSlides: 3,\r\n            spaceBetween: 20,\r\n            centeredSlides: true,\r\n            watchOverflow: false,\r\n            observer: true,\r\n            observeParents: true,\r\n            navigation: {\r\n                nextEl: $(this).find('.js-slide-next')[0],\r\n                prevEl: $(this).find('.js-slide-prev')[0],\r\n            },\r\n            breakpoints: {\r\n                768: {\r\n                    spaceBetween: 40,\r\n                    loop: true,\r\n                    loopedSlides: 3,\r\n                    centeredSlides: true,\r\n                },\r\n                992: {\r\n                    spaceBetween: 46,\r\n                    slidesPerView: 3,\r\n                    loop: false,\r\n                    loopedSlides: 0,\r\n                    centeredSlides: false,\r\n                },\r\n            },\r\n        });\r\n    });\r\n\r\n    $('.js-prices-slider').each(function() {\r\n        var swiper = new Swiper($(this).find('.js-slider-container')[0], {\r\n            slidesPerView: 'auto',\r\n            loop: true,\r\n            loopedSlides: 3,\r\n            centeredSlides: true,\r\n            watchOverflow: false,\r\n            observer: true,\r\n            observeParents: true,\r\n            navigation: {\r\n                nextEl: $(this).find('.js-slide-next')[0],\r\n                prevEl: $(this).find('.js-slide-prev')[0],\r\n            },\r\n            breakpoints: {\r\n                768: {\r\n                    loop: true,\r\n                    loopedSlides: 3,\r\n                    centeredSlides: true,\r\n                },\r\n                992: {\r\n                    slidesPerView: 3,\r\n                    loop: false,\r\n                    loopedSlides: 0,\r\n                    centeredSlides: false,\r\n                },\r\n            },\r\n        });\r\n    });\r\n\r\n    $('.js-view-gallery').each(function() {\r\n\r\n        var swiperThumbs = new Swiper($(this).find('.js-view-gallery-thumb .js-slider-container')[0], {\r\n            slidesPerView: 4,\r\n            spaceBetween: 16,\r\n            watchOverflow: false,\r\n            observer: true,\r\n            observeParents: true,\r\n        });\r\n        var swiperTop = new Swiper($(this).find('.js-view-gallery-top .js-slider-container')[0], {\r\n            slidesPerView: 1,\r\n            slidesPerGroup: 1,\r\n            watchOverflow: true,\r\n            observer: true,\r\n            observeParents: true,\r\n            effect: 'fade',\r\n            pagination: {\r\n                el: $(this).find('.js-slider-pagination')[0],\r\n                type: \"fraction\",\r\n            },\r\n            thumbs: {\r\n                swiper: swiperThumbs\r\n            }\r\n        });\r\n    });\r\n\r\n    $('.js-product-gallery').each(function() {\r\n\r\n        var swiperThumbs = new Swiper($(this).find('.js-product-gallery-thumb .js-slider-container')[0], {\r\n            slidesPerView: 6,\r\n            spaceBetween: 12,\r\n            watchOverflow: false,\r\n            observer: true,\r\n            observeParents: true,\r\n            direction: 'vertical',\r\n        });\r\n        var swiperTop = new Swiper($(this).find('.js-product-gallery-top .js-slider-container')[0], {\r\n            slidesPerView: 1,\r\n            slidesPerGroup: 1,\r\n            watchOverflow: true,\r\n            observer: true,\r\n            observeParents: true,\r\n            effect: 'fade',\r\n            pagination: {\r\n                el: $(this).find('.js-slider-pagination')[0],\r\n                type: \"fraction\",\r\n            },\r\n            thumbs: {\r\n                swiper: swiperThumbs\r\n            }\r\n        });\r\n    });\r\n\r\n    $('.js-product-item-slider').each(function() {\r\n\r\n        var swiperThumbs = new Swiper($(this).find('.js-product-item-slider-thumb')[0], {\r\n            slidesPerView: 'auto',\r\n            observer: true,\r\n            observeParents: true,\r\n        });\r\n        var swiperTop = new Swiper($(this).find('.js-product-item-slider-top .js-slider-container')[0], {\r\n            slidesPerView: 1,\r\n            // spaceBetween: 1000,\r\n            autoHeight: true,\r\n            observer: true,\r\n            observeParents: true,\r\n            watchOverflow: false,\r\n            navigation: {\r\n                nextEl: $(this).find('.js-slide-next')[0],\r\n                prevEl: $(this).find('.js-slide-prev')[0],\r\n            },\r\n            // breakpoints: {\r\n            //     768: {\r\n            //         slidesPerView: 3,\r\n            //         spaceBetween: 20,\r\n            //         loop: false,\r\n            //         centeredSlides: false,\r\n            //     },\r\n            //     992: {\r\n            //         spaceBetween: 40,\r\n            //         loop: false,\r\n            //         centeredSlides: false,\r\n            //     },\r\n            // },\r\n            thumbs: {\r\n                swiper: swiperThumbs\r\n            }\r\n        });\r\n    });\r\n\r\n    $('.js-team-slider').each(function() {\r\n        var swiper = new Swiper($(this).find('.js-slider-container')[0], {\r\n            slidesPerView: 'auto',\r\n            watchOverflow: false,\r\n            observer: true,\r\n            observeParents: true,\r\n            navigation: {\r\n                nextEl: $(this).find('.js-slide-next')[0],\r\n                prevEl: $(this).find('.js-slide-prev')[0],\r\n            },\r\n            breakpoints: {\r\n                768: {\r\n                    slidesPerView: 3,\r\n                },\r\n                992: {\r\n                    slidesPerView: 4,\r\n                },\r\n            },\r\n        });\r\n    });\r\n\r\n    $('.js-partners-slider').each(function() {\r\n        var swiper = new Swiper($(this).find('.js-slider-container')[0], {\r\n            slidesPerView: 'auto',\r\n            watchOverflow: false,\r\n            observer: true,\r\n            observeParents: true,\r\n            navigation: {\r\n                nextEl: $(this).find('.js-slide-next')[0],\r\n                prevEl: $(this).find('.js-slide-prev')[0],\r\n            },\r\n            breakpoints: {\r\n                768: {\r\n                    slidesPerView: 4,\r\n                },\r\n                992: {\r\n                    slidesPerView: 5,\r\n                },\r\n            },\r\n        });\r\n    });\r\n\r\n    $('.js-comparsion-slider').each(function() {\r\n        var swiper = new Swiper($(this).find('.js-slider-container')[0], {\r\n            slidesPerView: 1,\r\n            allowTouchMove: false,\r\n            observer: true,\r\n            observeParents: true,\r\n            navigation: {\r\n                nextEl: $(this).find('.js-slide-next')[0],\r\n                prevEl: $(this).find('.js-slide-prev')[0],\r\n            },\r\n        });\r\n    });\r\n\r\n    $('.js-cases-slider').each(function() {\r\n        var swiper = new Swiper($(this).find('.js-slider-container')[0], {\r\n            slidesPerView: 'auto',\r\n            watchOverflow: false,\r\n            observer: true,\r\n            observeParents: true,\r\n            navigation: {\r\n                nextEl: $(this).find('.js-slide-next')[0],\r\n                prevEl: $(this).find('.js-slide-prev')[0],\r\n            },\r\n            breakpoints: {\r\n                992: {\r\n                    slidesPerView: 3,\r\n                },\r\n            },\r\n        });\r\n    });\r\n\r\n    $('.js-gallery-slider').each(function() {\r\n        var swiper = new Swiper($(this).find('.js-slider-container')[0], {\r\n            slidesPerView: 'auto',\r\n            spaceBetween: 12,\r\n            watchOverflow: false,\r\n            observer: true,\r\n            observeParents: true,\r\n            navigation: {\r\n                nextEl: $(this).find('.js-slide-next')[0],\r\n                prevEl: $(this).find('.js-slide-prev')[0],\r\n            },\r\n            breakpoints: {\r\n                992: {\r\n                    spaceBetween: 24,\r\n                    slidesPerView: 5,\r\n                },\r\n            },\r\n        });\r\n    });\r\n\r\n    $('.js-case-slider').each(function() {\r\n        var swiper = new Swiper($(this).find('.js-slider-container')[0], {\r\n            slidesPerView: 'auto',\r\n            spaceBetween: 24,\r\n            watchOverflow: false,\r\n            observer: true,\r\n            observeParents: true,\r\n            navigation: {\r\n                nextEl: $(this).find('.js-slide-next')[0],\r\n                prevEl: $(this).find('.js-slide-prev')[0],\r\n            },\r\n            breakpoints: {\r\n                576: {\r\n                    slidesPerView: 2,\r\n                },\r\n            },\r\n        });\r\n    });\r\n\r\n    $('.js-reviews-block-slider').each(function() {\r\n        var swiper = new Swiper($(this).find('.js-slider-container')[0], {\r\n            slidesPerView: 1,\r\n            autoHeight: true,\r\n            allowTouchMove: false,\r\n            observer: true,\r\n            observeParents: true,\r\n            navigation: {\r\n                nextEl: $(this).find('.js-slide-next')[0],\r\n                prevEl: $(this).find('.js-slide-prev')[0],\r\n            },\r\n        });\r\n    });\r\n\r\n    $('.js-reviews-section-slider').each(function() {\r\n        var swiper = new Swiper($(this).find('.js-slider-container')[0], {\r\n            slidesPerView: 'auto',\r\n            spaceBetween: 16,\r\n            watchOverflow: false,\r\n            observer: true,\r\n            observeParents: true,\r\n            navigation: {\r\n                nextEl: $(this).find('.js-slide-next')[0],\r\n                prevEl: $(this).find('.js-slide-prev')[0],\r\n            },\r\n            breakpoints: {\r\n                992: {\r\n                    spaceBetween: 0,\r\n                    slidesPerView: 2,\r\n                },\r\n            },\r\n        });\r\n    });\r\n\r\n    $('.js-video-reviews-slider').each(function() {\r\n        var swiper = new Swiper($(this).find('.js-slider-container')[0], {\r\n            slidesPerView: 'auto',\r\n            spaceBetween: 20,\r\n            watchOverflow: false,\r\n            observer: true,\r\n            observeParents: true,\r\n            navigation: {\r\n                nextEl: $(this).find('.js-slide-next')[0],\r\n                prevEl: $(this).find('.js-slide-prev')[0],\r\n            },\r\n            breakpoints: {\r\n                768: {\r\n                    spaceBetween: 0,\r\n                    slidesPerView: 3,\r\n                },\r\n            },\r\n            breakpoints: {\r\n                992: {\r\n                    spaceBetween: 0,\r\n                    slidesPerView: 4,\r\n                },\r\n            },\r\n        });\r\n    });\r\n\r\n    $('.js-screen-reviews-slider').each(function() {\r\n        var swiper = new Swiper($(this).find('.js-slider-container')[0], {\r\n            slidesPerView: 'auto',\r\n            spaceBetween: 20,\r\n            watchOverflow: false,\r\n            observer: true,\r\n            observeParents: true,\r\n            navigation: {\r\n                nextEl: $(this).find('.js-slide-next')[0],\r\n                prevEl: $(this).find('.js-slide-prev')[0],\r\n            },\r\n            breakpoints: {\r\n                768: {\r\n                    spaceBetween: 0,\r\n                    slidesPerView: 3,\r\n                },\r\n            },\r\n            breakpoints: {\r\n                992: {\r\n                    spaceBetween: 0,\r\n                    slidesPerView: 4,\r\n                },\r\n            },\r\n        });\r\n    });\r\n\r\n    $.fancybox.defaults.backFocus = false;\r\n\r\n\r\n    // modals start\r\n\r\n    function scrollbarWidth() {\r\n        var block = $('<div>').css({ 'height': '50px', 'width': '50px' }),\r\n            indicator = $('<div>').css({ 'height': '200px' });\r\n\r\n        $('body').append(block.append(indicator));\r\n        var w1 = $('div', block).innerWidth();\r\n        block.css('overflow-y', 'scroll');\r\n        var w2 = $('div', block).innerWidth();\r\n        $(block).remove();\r\n        return (w1 - w2);\r\n    }\r\n\r\n    function modalOpen(modal) {\r\n        if (modal.length) {\r\n            modal.fadeIn();\r\n            $('body').addClass('lock').css('padding-right', scrollbarWidth());\r\n        }\r\n    }\r\n\r\n    function modalClose(modal) {\r\n        modal.fadeOut('fast');\r\n        setTimeout(function() { $('body').removeClass('lock').removeAttr('style class'); }, 200);\r\n    }\r\n\r\n    $(document).on('mousedown', '[data-modal]', function(e) {\r\n        e.preventDefault();\r\n        modalOpen($('.' + $(this).attr('data-modal')));\r\n    });\r\n\r\n    $(document).on('click', '.js-modal-close', function(e) {\r\n        e.preventDefault();\r\n        modalClose($(this).closest('.modal'));\r\n    });\r\n\r\n    $(document).on('click', '.modal', function(e) {\r\n        if (!$('.modal__inner').is(e.target) && $('.modal__inner').has(e.target).length === 0) {\r\n            modalClose($(this));\r\n        }\r\n    });\r\n\r\n    $(document).on('keydown', function(e) {\r\n        if (e.keyCode === 27) {\r\n            e.preventDefault();\r\n            modalClose($('.modal'));\r\n        }\r\n    });\r\n    // modals end\r\n\r\n    $('.js-select').each(function() {\r\n        var select = $(this);\r\n        var btn = $(this).find('.js-select-btn');\r\n        var list = $(this).find('.js-select-list');\r\n\r\n        btn.on('click', function() {\r\n            list.slideToggle('fast');\r\n            select.toggleClass('active');\r\n        });\r\n\r\n        $('.js-select input').on('change', function() {\r\n            var value = $(this).siblings('label').text();\r\n            $(this).closest('.js-select').find('.js-select-btn').text(value);\r\n            $(this).closest('.js-select').find('.js-select-list').slideUp('fast');\r\n            $('.js-select').removeClass('active');\r\n        })\r\n    });\r\n\r\n    $(document).on('click', function(e) {\r\n        if (!$('.js-select').is(e.target) && $('.js-select').has(e.target).length === 0) {\r\n            $('.js-select-list').slideUp('fast');\r\n            $('.js-select').removeClass('active');\r\n        }\r\n    })\r\n\r\n    $(document).on('keydown', function(e) {\r\n        if (e.keyCode === 27) {\r\n            $('.js-select-list').slideUp('fast');\r\n            $('.js-select').removeClass('active');\r\n        }\r\n    });\r\n\r\n    function showText() {\r\n        var showText = document.querySelectorAll('.js-show-text');\r\n\r\n        if (showText) {\r\n            showText.forEach(function(it) {\r\n                var rows = parseInt(it.getAttribute('data-rows')) ? parseInt(it.getAttribute('data-rows')) : 5;\r\n                $clamp(it, { clamp: rows });\r\n            });\r\n        }\r\n\r\n        $('.js-show-text-btn').each(function() {\r\n            var initialText = $(this).find('span').text();\r\n\r\n            $(this).on('click', function() {\r\n\r\n                $(this).parent().toggleClass('show');\r\n                $(this).toggleClass('active');\r\n                $(this).hasClass('active') ? $(this).find('span').text('Свернуть') : $(this).find('span').text(initialText);\r\n                $(this).closest('.swiper-wrapper').toggleClass('active');\r\n            });\r\n        });\r\n    }\r\n\r\n    showText();\r\n\r\n    //маски\r\n\r\n    $('input[type=\"tel\"]').each(function() {\r\n        var mask = IMask(this, { mask: '+7 (000) 000-00-00', lazy: false });\r\n    });\r\n\r\n    $('input').blur(function() {\r\n        if ($('input:text').is(\":empty\")) {\r\n            $(this).parents('.form-control').addClass('active');\r\n        }\r\n    });\r\n\r\n    $('.js-accordeon .js-accordeon-toggler').on('click', f_acc);\r\n\r\n    function f_acc() {\r\n        //скрываем все кроме того, что должны открыть\r\n        $('.js-accordeon .js-accordeon-content').not($(this).next()).slideUp('fast');\r\n        $('.js-accordeon .js-accordeon-toggler').not($(this)).removeClass('active');\r\n        // открываем или скрываем блок под заголовоком, по которому кликнули\r\n        $(this).next().slideToggle();\r\n        $(this).toggleClass('active');\r\n    }\r\n\r\n    $('.js-submenu').on('click', function(e) {\r\n        var link = $(this).find('span');\r\n        var submenu = $(this).find(' > ul');\r\n        var toggler = $(this);\r\n        if (!link.is(e.target) && link.has(e.target).length === 0) {\r\n            e.preventDefault();\r\n            submenu.slideToggle();\r\n            toggler.toggleClass('active');\r\n        }\r\n    })\r\n\r\n    $('.js-menu-toggler').on('click', function(e) {\r\n        e.preventDefault();\r\n        $(this).toggleClass('active');\r\n        $('.js-mobile-menu').slideToggle();\r\n        if ($(this).hasClass('active')) {\r\n            $('body').toggleClass('lock').css('padding-right', scrollbarWidth());\r\n        } else {\r\n            setTimeout(function() { $('body').removeClass('lock').removeAttr('style class'); }, 200);\r\n        }\r\n    });\r\n\r\n    $('table').each(function() {\r\n        var table = $(this);\r\n        if (table.length) {\r\n            $(this).before('<div class=\"table-container\"></div>');\r\n            $(this).siblings('.table-container').append($(this));\r\n            var contW = $(this).parent('.table-container').width();\r\n            var tableW = $(this).width();\r\n            if (contW < tableW) {\r\n                $(this).parent('.table-container').addClass('scroll');\r\n            } else {\r\n                $(this).parent('.table-container').removeClass('scroll');\r\n            }\r\n\r\n            $(window).resize(function() {\r\n                if (contW < tableW) {\r\n                    $(this).parent('.table-container').addClass('scroll');\r\n                } else {\r\n                    $(this).parent('.table-container').removeClass('scroll');\r\n                }\r\n            });\r\n        }\r\n    });\r\n\r\n});\r\n\r\ndocument.addEventListener('DOMContentLoaded', function() {\r\n    Cocoen.create(document.querySelector('.cocoen'));\r\n    Cocoen.parse(document.body);\r\n});\r\n\r\n$(document).ready(function() {\r\n    /*----------------------------------\r\n      Ymap start\r\n  -----------------------------------*/\r\n    var spinner = $('.ymap-container').children('.loader');\r\n    var check_if_load = 0;\r\n    var myMap, myPlacemark;\r\n\r\n\r\n    function init() {\r\n        var myMapTemp = new ymaps.Map(\"map\", {\r\n            center: [44.05226807598319, 43.045867000000015],\r\n            zoom: 17,\r\n            controls: ['zoomControl', 'fullscreenControl']\r\n        });\r\n\r\n        var myMapTemp2 = new ymaps.Map(\"map-yandex\", {\r\n            center: [44.05226807598319, 43.045867000000015],\r\n            zoom: 17,\r\n            controls: ['zoomControl', 'fullscreenControl']\r\n        });\r\n\r\n        var myMapTemp3 = new ymaps.Map(\"yandex-map\", {\r\n            center: [44.05226807598319, 43.045867000000015],\r\n            zoom: 17,\r\n            controls: ['zoomControl', 'fullscreenControl']\r\n        });\r\n\r\n        var myPlacemarkTemp = new ymaps.Placemark([44.05226807598319, 43.045867000000015]);\r\n        var myPlacemarkTemp2 = new ymaps.Placemark([44.05226807598319, 43.045867000000015]);\r\n        var myPlacemarkTemp3 = new ymaps.Placemark([44.05226807598319, 43.045867000000015]);\r\n\r\n        myMapTemp.geoObjects.add(myPlacemarkTemp);\r\n\r\n        myMapTemp.behaviors.disable('scrollZoom');\r\n\r\n        myMapTemp2.geoObjects.add(myPlacemarkTemp2);\r\n\r\n        myMapTemp2.behaviors.disable('scrollZoom');\r\n\r\n        myMapTemp3.geoObjects.add(myPlacemarkTemp3);\r\n\r\n        myMapTemp3.behaviors.disable('scrollZoom');\r\n\r\n        if (window.screen.width <= 768) {\r\n            myMapTemp.behaviors.disable('drag');\r\n            myMapTemp2.behaviors.disable('drag');\r\n            myMapTemp3.behaviors.disable('drag');\r\n        }\r\n\r\n        //Получаем первый экземпляр коллекции слоев, потом первый слой коллекции\r\n        var layer = myMapTemp.layers.get(0).get(0);\r\n        var layer2 = myMapTemp2.layers.get(0).get(0);\r\n        var layer3 = myMapTemp2.layers.get(0).get(0);\r\n\r\n        //Решение по callback-у для определния полной загрузки карты: http://ru.stackoverflow.com/questions/463638/callback-загрузки-карты-yandex-map\r\n        waitForTilesLoad(layer).then(function() {\r\n            //Скрываем\r\n            spinner.removeClass('is-active');\r\n        });\r\n        waitForTilesLoad(layer2).then(function() {\r\n            //Скрываем\r\n            spinner.removeClass('is-active');\r\n        });\r\n\r\n        waitForTilesLoad(layer3).then(function() {\r\n            //Скрываем\r\n            spinner.removeClass('is-active');\r\n        });\r\n    }\r\n\r\n\r\n    function waitForTilesLoad(layer) {\r\n        return new ymaps.vow.Promise(function(resolve, reject) {\r\n            var tc = getTileContainer(layer),\r\n                readyAll = true;\r\n            tc.tiles.each(function(tile, number) {\r\n                if (!tile.isReady()) {\r\n                    readyAll = false;\r\n                }\r\n            });\r\n            if (readyAll) {\r\n                resolve();\r\n            } else {\r\n                tc.events.once(\"ready\", function() {\r\n                    resolve();\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n    function getTileContainer(layer) {\r\n        for (var k in layer) {\r\n            if (layer.hasOwnProperty(k)) {\r\n                if (\r\n                    layer[k] instanceof ymaps.layer.tileContainer.CanvasContainer ||\r\n                    layer[k] instanceof ymaps.layer.tileContainer.DomContainer\r\n                ) {\r\n                    return layer[k];\r\n                }\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n    function loadScript(url, callback) {\r\n\r\n        var script = document.createElement(\"script\");\r\n\r\n        if (script.readyState) { //IE\r\n            script.onreadystatechange = function() {\r\n                if (script.readyState == \"loaded\" ||\r\n                    script.readyState == \"complete\") {\r\n                    script.onreadystatechange = null;\r\n                    callback();\r\n                }\r\n            };\r\n        } else { //Другие браузеры\r\n            script.onload = function() {\r\n                callback();\r\n            };\r\n        }\r\n\r\n        script.src = url;\r\n        document.getElementsByTagName(\"head\")[0].appendChild(script);\r\n    }\r\n\r\n    var ymap = function() {\r\n        // $('.ymap-container').mouseenter(function() {\r\n        //     if (check_if_load == 0) {\r\n        //         check_if_load = 1;\r\n\r\n        //         spinner.addClass('is-active');\r\n\r\n        //         loadScript(\"https://api-maps.yandex.ru/2.1/?lang=ru_RU&amp;loadByRequire=1\", function() {\r\n        //             ymaps.load(init);\r\n        //         });\r\n        //     }\r\n        // });\r\n\r\n        $(window).scroll(function() {\r\n            $('.ymap-container').each(function() {\r\n                if ($(window).scrollTop() > $('.ymap-container').offset().top - 700 && !$('.ymap-container').hasClass('is-active')) {\r\n                    $('.ymap-container').addClass('is-active');\r\n                    if (check_if_load == 0) {\r\n                        check_if_load = 1;\r\n\r\n                        spinner.addClass('is-active');\r\n\r\n                        var flagMapApi = false;\r\n\r\n                        if (!flagMapApi) {\r\n                            flagMapApi = true;\r\n                            loadScript(\"https://api-maps.yandex.ru/2.1/?lang=ru_RU&amp;loadByRequire=1\", function() {\r\n                                ymaps.load(init);\r\n                            });\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        });\r\n    }\r\n    //Map Yandex\r\n    ymap();\r\n\r\n});"]}